<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Documentation: RingBuffer&lt; ITEM &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">RingBuffer&lt; ITEM &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="../../d7/da0/struct_a.html">A</a> template-based ring-buffer class.  
 <a href="../../d4/d8f/class_ring_buffer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for RingBuffer&lt; ITEM &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d20/class_ring_buffer__coll__graph.png" border="0" usemap="#_ring_buffer_3_01_i_t_e_m_01_4_coll__map" alt="Collaboration graph"/></div>
<!-- MAP 0 -->
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a78a025f29611fbab3a9a222fa524d324"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#a78a025f29611fbab3a9a222fa524d324">RingBuffer</a> (int _size)</td></tr>
<tr class="memdesc:a78a025f29611fbab3a9a222fa524d324"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor of the Ringbuffer.  <a href="#a78a025f29611fbab3a9a222fa524d324">More...</a><br /></td></tr>
<tr class="separator:a78a025f29611fbab3a9a222fa524d324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e6e47b177d6009589ada9ec03bde29"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#a72e6e47b177d6009589ada9ec03bde29">~RingBuffer</a> ()</td></tr>
<tr class="separator:a72e6e47b177d6009589ada9ec03bde29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af30fb3ac1a22526595f10bc793d0de6f"><td class="memItemLeft" align="right" valign="top">ITEM&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#af30fb3ac1a22526595f10bc793d0de6f">getItem</a> (int idx)</td></tr>
<tr class="memdesc:af30fb3ac1a22526595f10bc793d0de6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the item (or a copy thereof) at index <code>idx</code>  <a href="#af30fb3ac1a22526595f10bc793d0de6f">More...</a><br /></td></tr>
<tr class="separator:af30fb3ac1a22526595f10bc793d0de6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a57d071dc19a7269fb961c74060e0a1"><td class="memItemLeft" align="right" valign="top">ITEM *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#a8a57d071dc19a7269fb961c74060e0a1">getPointer</a> (int idx)</td></tr>
<tr class="memdesc:a8a57d071dc19a7269fb961c74060e0a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns a pointer to the item at index <code>idx</code>  <a href="#a8a57d071dc19a7269fb961c74060e0a1">More...</a><br /></td></tr>
<tr class="separator:a8a57d071dc19a7269fb961c74060e0a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57c380fbde38eee4b3ad9e1d25e3c7e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#a57c380fbde38eee4b3ad9e1d25e3c7e9">nextWrite</a> (bool allow_lapping)</td></tr>
<tr class="memdesc:a57c380fbde38eee4b3ad9e1d25e3c7e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">gets the index to the next write-bin  <a href="#a57c380fbde38eee4b3ad9e1d25e3c7e9">More...</a><br /></td></tr>
<tr class="separator:a57c380fbde38eee4b3ad9e1d25e3c7e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae86a800cee0adadbc1d027e146285151"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#ae86a800cee0adadbc1d027e146285151">nextRead</a> (bool skip_frames)</td></tr>
<tr class="memdesc:ae86a800cee0adadbc1d027e146285151"><td class="mdescLeft">&#160;</td><td class="mdescRight">gets the index to the next read-bin  <a href="#ae86a800cee0adadbc1d027e146285151">More...</a><br /></td></tr>
<tr class="separator:ae86a800cee0adadbc1d027e146285151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae610fefb7e3d959ebccc59840c621021"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#ae610fefb7e3d959ebccc59840c621021">curWrite</a> ()</td></tr>
<tr class="memdesc:ae610fefb7e3d959ebccc59840c621021"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the index of the current write-bin  <a href="#ae610fefb7e3d959ebccc59840c621021">More...</a><br /></td></tr>
<tr class="separator:ae610fefb7e3d959ebccc59840c621021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48c1a548a59b97ff1163b8d43281e9eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#a48c1a548a59b97ff1163b8d43281e9eb">curRead</a> ()</td></tr>
<tr class="memdesc:a48c1a548a59b97ff1163b8d43281e9eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the index of the current read-bin  <a href="#a48c1a548a59b97ff1163b8d43281e9eb">More...</a><br /></td></tr>
<tr class="separator:a48c1a548a59b97ff1163b8d43281e9eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99d591c5079a92af59aa4902171e6e9a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#a99d591c5079a92af59aa4902171e6e9a">lockRead</a> ()</td></tr>
<tr class="memdesc:a99d591c5079a92af59aa4902171e6e9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">locks the readlock mutex This function is only required for scenarios where you expect to have multiple readers*, all accessing the same ringbuffer.  <a href="#a99d591c5079a92af59aa4902171e6e9a">More...</a><br /></td></tr>
<tr class="separator:a99d591c5079a92af59aa4902171e6e9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad69ede57488814f84c85b694b52b4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#a1ad69ede57488814f84c85b694b52b4c">unlockRead</a> ()</td></tr>
<tr class="memdesc:a1ad69ede57488814f84c85b694b52b4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">unlocks the readlock mutex This function is only required for scenarios where you expect to have multiple readers*, all accessing the same ringbuffer.  <a href="#a1ad69ede57488814f84c85b694b52b4c">More...</a><br /></td></tr>
<tr class="separator:a1ad69ede57488814f84c85b694b52b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a700776025db5484b365ce5d9f21bff9c"><td class="memItemLeft" align="right" valign="top">ITEM *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#a700776025db5484b365ce5d9f21bff9c">items</a></td></tr>
<tr class="separator:a700776025db5484b365ce5d9f21bff9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a977517bcafd3510a263ccde57e4233ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#a977517bcafd3510a263ccde57e4233ea">size</a></td></tr>
<tr class="separator:a977517bcafd3510a263ccde57e4233ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ae6f4bae45e44b18390126d97bb661732"><td class="memItemLeft" align="right" valign="top">QMutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#ae6f4bae45e44b18390126d97bb661732">mutex</a></td></tr>
<tr class="separator:ae6f4bae45e44b18390126d97bb661732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a717cc0e30e319b09b9370f9628ae3f87"><td class="memItemLeft" align="right" valign="top">QMutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#a717cc0e30e319b09b9370f9628ae3f87">readlock</a></td></tr>
<tr class="separator:a717cc0e30e319b09b9370f9628ae3f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a1ebc649491743610ecd10c0924efdfe3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#a1ebc649491743610ecd10c0924efdfe3">next</a> (int cur_idx, int not_avail, bool preventLap)</td></tr>
<tr class="separator:a1ebc649491743610ecd10c0924efdfe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad45cbece64a0440644af481c3c3b4da6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#ad45cbece64a0440644af481c3c3b4da6">current_read</a></td></tr>
<tr class="separator:ad45cbece64a0440644af481c3c3b4da6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab155cd2ee69736e50b77e7251bf6f611"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#ab155cd2ee69736e50b77e7251bf6f611">current_write</a></td></tr>
<tr class="separator:ab155cd2ee69736e50b77e7251bf6f611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a318af12367a399485385e4d5d2f89b00"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#a318af12367a399485385e4d5d2f89b00">previous_write</a></td></tr>
<tr class="separator:a318af12367a399485385e4d5d2f89b00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd1d97b58d6995aa2dea13cc4956540f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/class_ring_buffer.html#acd1d97b58d6995aa2dea13cc4956540f">previous_read</a></td></tr>
<tr class="separator:acd1d97b58d6995aa2dea13cc4956540f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class ITEM&gt;<br />
class RingBuffer&lt; ITEM &gt;</h3>

<p><a class="el" href="../../d7/da0/struct_a.html">A</a> template-based ring-buffer class. </p>
<dl class="section author"><dt>Author</dt><dd>Stefan Zickler, (C) 2008</dd></dl>
<p><a class="el" href="../../d7/da0/struct_a.html">A</a> ringbuffer is a thread-safe data-structure which allows the coordination of a reader and a writer to temporary, sequential data.</p>
<p>The most typical use is for processing live-streaming data. E.g. a network thread might receive data and writes it to the ringbuffer our software then reads the ringbuffer and displays the data on the screen</p>
<p>Another common application is the processing of video-data.</p>
<p>The ringbuffer ensures that 1) the reader and the writer will NEVER access the same bin at the same time 2) the reader will not leap ahead over the writer </p>

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00046">46</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a78a025f29611fbab3a9a222fa524d324"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::<a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor of the Ringbuffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_size</td><td>determines how many elements are stored in it.</td></tr>
  </table>
  </dd>
</dl>
<p>Note that <code>_size</code> needs to be at least 2! </p>

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00065">65</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                             {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#a700776025db5484b365ce5d9f21bff9c">items</a>=<span class="keyword">new</span> ITEM[_size];</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#ad45cbece64a0440644af481c3c3b4da6">current_read</a>=0;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#acd1d97b58d6995aa2dea13cc4956540f">previous_read</a>=-1;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#a318af12367a399485385e4d5d2f89b00">previous_write</a>=0;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#ab155cd2ee69736e50b77e7251bf6f611">current_write</a>=1;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#a977517bcafd3510a263ccde57e4233ea">size</a>=_size;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div><div class="ttc" id="class_ring_buffer_html_a700776025db5484b365ce5d9f21bff9c"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#a700776025db5484b365ce5d9f21bff9c">RingBuffer::items</a></div><div class="ttdeci">ITEM * items</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00051">ringbuffer.h:51</a></div></div>
<div class="ttc" id="class_ring_buffer_html_ab155cd2ee69736e50b77e7251bf6f611"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#ab155cd2ee69736e50b77e7251bf6f611">RingBuffer::current_write</a></div><div class="ttdeci">int current_write</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00054">ringbuffer.h:54</a></div></div>
<div class="ttc" id="class_ring_buffer_html_acd1d97b58d6995aa2dea13cc4956540f"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#acd1d97b58d6995aa2dea13cc4956540f">RingBuffer::previous_read</a></div><div class="ttdeci">int previous_read</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00056">ringbuffer.h:56</a></div></div>
<div class="ttc" id="class_ring_buffer_html_ad45cbece64a0440644af481c3c3b4da6"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#ad45cbece64a0440644af481c3c3b4da6">RingBuffer::current_read</a></div><div class="ttdeci">int current_read</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00053">ringbuffer.h:53</a></div></div>
<div class="ttc" id="class_ring_buffer_html_a318af12367a399485385e4d5d2f89b00"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#a318af12367a399485385e4d5d2f89b00">RingBuffer::previous_write</a></div><div class="ttdeci">int previous_write</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00055">ringbuffer.h:55</a></div></div>
<div class="ttc" id="class_ring_buffer_html_a977517bcafd3510a263ccde57e4233ea"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#a977517bcafd3510a263ccde57e4233ea">RingBuffer::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00058">ringbuffer.h:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a72e6e47b177d6009589ada9ec03bde29"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::~<a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00075">75</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                          {</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      <span class="keyword">delete</span>[] <a class="code" href="../../d4/d8f/class_ring_buffer.html#a700776025db5484b365ce5d9f21bff9c">items</a>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    }</div><div class="ttc" id="class_ring_buffer_html_a700776025db5484b365ce5d9f21bff9c"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#a700776025db5484b365ce5d9f21bff9c">RingBuffer::items</a></div><div class="ttdeci">ITEM * items</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00051">ringbuffer.h:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a48c1a548a59b97ff1163b8d43281e9eb"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::curRead </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns the index of the current read-bin </p>

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00187">187</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                  {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#ae6f4bae45e44b18390126d97bb661732">mutex</a>.lock();</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      res=<a class="code" href="../../d4/d8f/class_ring_buffer.html#ad45cbece64a0440644af481c3c3b4da6">current_read</a>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#ae6f4bae45e44b18390126d97bb661732">mutex</a>.unlock();</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div><div class="ttc" id="class_ring_buffer_html_ad45cbece64a0440644af481c3c3b4da6"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#ad45cbece64a0440644af481c3c3b4da6">RingBuffer::current_read</a></div><div class="ttdeci">int current_read</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00053">ringbuffer.h:53</a></div></div>
<div class="ttc" id="class_ring_buffer_html_ae6f4bae45e44b18390126d97bb661732"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#ae6f4bae45e44b18390126d97bb661732">RingBuffer::mutex</a></div><div class="ttdeci">QMutex mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00048">ringbuffer.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae610fefb7e3d959ebccc59840c621021"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::curWrite </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns the index of the current write-bin </p>

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00176">176</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                   {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#ae6f4bae45e44b18390126d97bb661732">mutex</a>.lock();</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      res=<a class="code" href="../../d4/d8f/class_ring_buffer.html#ab155cd2ee69736e50b77e7251bf6f611">current_write</a>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#ae6f4bae45e44b18390126d97bb661732">mutex</a>.unlock();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div><div class="ttc" id="class_ring_buffer_html_ab155cd2ee69736e50b77e7251bf6f611"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#ab155cd2ee69736e50b77e7251bf6f611">RingBuffer::current_write</a></div><div class="ttdeci">int current_write</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00054">ringbuffer.h:54</a></div></div>
<div class="ttc" id="class_ring_buffer_html_ae6f4bae45e44b18390126d97bb661732"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#ae6f4bae45e44b18390126d97bb661732">RingBuffer::mutex</a></div><div class="ttdeci">QMutex mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00048">ringbuffer.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af30fb3ac1a22526595f10bc793d0de6f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ITEM <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::getItem </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns the item (or a copy thereof) at index <code>idx</code> </p>

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00100">100</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                             {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="keywordflow">if</span> ( idx &gt;= <a class="code" href="../../d4/d8f/class_ring_buffer.html#a977517bcafd3510a263ccde57e4233ea">size</a> ) idx=<a class="code" href="../../d4/d8f/class_ring_buffer.html#a977517bcafd3510a263ccde57e4233ea">size</a>-1;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="keywordflow">if</span> ( idx &lt; 0 ) idx=0;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d8f/class_ring_buffer.html#a700776025db5484b365ce5d9f21bff9c">items</a>[idx];</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div><div class="ttc" id="class_ring_buffer_html_a700776025db5484b365ce5d9f21bff9c"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#a700776025db5484b365ce5d9f21bff9c">RingBuffer::items</a></div><div class="ttdeci">ITEM * items</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00051">ringbuffer.h:51</a></div></div>
<div class="ttc" id="class_ring_buffer_html_a977517bcafd3510a263ccde57e4233ea"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#a977517bcafd3510a263ccde57e4233ea">RingBuffer::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00058">ringbuffer.h:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8a57d071dc19a7269fb961c74060e0a1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ITEM* <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::getPointer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns a pointer to the item at index <code>idx</code> </p>

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00109">109</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                  {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <span class="keywordflow">if</span> ( idx &gt;= <a class="code" href="../../d4/d8f/class_ring_buffer.html#a977517bcafd3510a263ccde57e4233ea">size</a> ) idx=<a class="code" href="../../d4/d8f/class_ring_buffer.html#a977517bcafd3510a263ccde57e4233ea">size</a>-1;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="keywordflow">if</span> ( idx &lt; 0 ) idx=0;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <span class="keywordflow">return</span> &amp; ( <a class="code" href="../../d4/d8f/class_ring_buffer.html#a700776025db5484b365ce5d9f21bff9c">items</a>[idx] );</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div><div class="ttc" id="class_ring_buffer_html_a700776025db5484b365ce5d9f21bff9c"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#a700776025db5484b365ce5d9f21bff9c">RingBuffer::items</a></div><div class="ttdeci">ITEM * items</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00051">ringbuffer.h:51</a></div></div>
<div class="ttc" id="class_ring_buffer_html_a977517bcafd3510a263ccde57e4233ea"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#a977517bcafd3510a263ccde57e4233ea">RingBuffer::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00058">ringbuffer.h:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a99d591c5079a92af59aa4902171e6e9a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::lockRead </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>locks the readlock mutex This function is only required for scenarios where you expect to have multiple readers*, all accessing the same ringbuffer. </p>

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00200">200</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                    {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#a717cc0e30e319b09b9370f9628ae3f87">readlock</a>.lock();</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div><div class="ttc" id="class_ring_buffer_html_a717cc0e30e319b09b9370f9628ae3f87"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#a717cc0e30e319b09b9370f9628ae3f87">RingBuffer::readlock</a></div><div class="ttdeci">QMutex readlock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00049">ringbuffer.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1ebc649491743610ecd10c0924efdfe3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::next </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cur_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>not_avail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>preventLap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00079">79</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>

<p>Referenced by <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00153">RingBuffer&lt; FrameData &gt;::nextRead()</a>, and <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00128">RingBuffer&lt; FrameData &gt;::nextWrite()</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                                             {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <span class="comment">//if preventLap is true then we won&#39;t jump over</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <span class="comment">//not_avail.</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <span class="keywordtype">int</span> idx=cur_idx+1;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <span class="keywordflow">if</span> ( idx &gt;= <a class="code" href="../../d4/d8f/class_ring_buffer.html#a977517bcafd3510a263ccde57e4233ea">size</a> ) idx=0;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <span class="keywordflow">if</span> ( idx &lt; 0 ) idx=0;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <span class="keywordflow">if</span> ( idx == not_avail ) {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">if</span> ( preventLap ) {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;          idx=cur_idx;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;          idx++;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <span class="keywordflow">if</span> ( idx &gt;= <a class="code" href="../../d4/d8f/class_ring_buffer.html#a977517bcafd3510a263ccde57e4233ea">size</a> || idx==-1 ) idx=0;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <span class="keywordflow">return</span> idx;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    }</div><div class="ttc" id="class_ring_buffer_html_a977517bcafd3510a263ccde57e4233ea"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#a977517bcafd3510a263ccde57e4233ea">RingBuffer::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00058">ringbuffer.h:58</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/d8f/class_ring_buffer_a1ebc649491743610ecd10c0924efdfe3_icgraph.png" border="0" usemap="#d4/d8f/class_ring_buffer_a1ebc649491743610ecd10c0924efdfe3_icgraph" alt=""/></div>
<!-- MAP 1 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="ae86a800cee0adadbc1d027e146285151"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::nextRead </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skip_frames</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>gets the index to the next read-bin </p>
<p>If <code>skip_frames</code> is true then this will return the bin that was most recently written. In other words, we always jump directly ahead to the most recent data available. This means that we can possibly skip bins.</p>
<p>If <code>skip_frames</code> is false then we only move to the next read-bin in order (we will not jump ahead). Select this, if you want to ensure that all data is read.</p>
<p>Either way, nextRead always ensures that we will never overlap the write-pointer. Thus, it is possible that nextRead will return the same index as on the previous call if we are unable to move on because the write-pointer is in front of us.</p>
<p>nextRead is thread-safe and atomic. </p>

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00153">153</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                      {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#ae6f4bae45e44b18390126d97bb661732">mutex</a>.lock();</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#acd1d97b58d6995aa2dea13cc4956540f">previous_read</a>=<a class="code" href="../../d4/d8f/class_ring_buffer.html#ad45cbece64a0440644af481c3c3b4da6">current_read</a>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="keywordflow">if</span> ( skip_frames ) {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordtype">int</span> prev_frame;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="../../d4/d8f/class_ring_buffer.html#a318af12367a399485385e4d5d2f89b00">previous_write</a>==0 ) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;          prev_frame=<a class="code" href="../../d4/d8f/class_ring_buffer.html#a977517bcafd3510a263ccde57e4233ea">size</a>-1;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;          prev_frame=<a class="code" href="../../d4/d8f/class_ring_buffer.html#a318af12367a399485385e4d5d2f89b00">previous_write</a>-1;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;          <span class="keywordflow">if</span> ( prev_frame &lt; 0 ) prev_frame=0;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="../../d4/d8f/class_ring_buffer.html#ad45cbece64a0440644af481c3c3b4da6">current_read</a>=<a class="code" href="../../d4/d8f/class_ring_buffer.html#a1ebc649491743610ecd10c0924efdfe3">next</a> ( prev_frame,<a class="code" href="../../d4/d8f/class_ring_buffer.html#ab155cd2ee69736e50b77e7251bf6f611">current_write</a>,<span class="keyword">true</span> );</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <a class="code" href="../../d4/d8f/class_ring_buffer.html#ad45cbece64a0440644af481c3c3b4da6">current_read</a>=<a class="code" href="../../d4/d8f/class_ring_buffer.html#a1ebc649491743610ecd10c0924efdfe3">next</a> ( <a class="code" href="../../d4/d8f/class_ring_buffer.html#ad45cbece64a0440644af481c3c3b4da6">current_read</a>,<a class="code" href="../../d4/d8f/class_ring_buffer.html#ab155cd2ee69736e50b77e7251bf6f611">current_write</a>,<span class="keyword">true</span> );</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="keywordtype">int</span> res=<a class="code" href="../../d4/d8f/class_ring_buffer.html#ad45cbece64a0440644af481c3c3b4da6">current_read</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#ae6f4bae45e44b18390126d97bb661732">mutex</a>.unlock();</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div><div class="ttc" id="class_ring_buffer_html_a1ebc649491743610ecd10c0924efdfe3"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#a1ebc649491743610ecd10c0924efdfe3">RingBuffer::next</a></div><div class="ttdeci">int next(int cur_idx, int not_avail, bool preventLap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00079">ringbuffer.h:79</a></div></div>
<div class="ttc" id="class_ring_buffer_html_ab155cd2ee69736e50b77e7251bf6f611"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#ab155cd2ee69736e50b77e7251bf6f611">RingBuffer::current_write</a></div><div class="ttdeci">int current_write</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00054">ringbuffer.h:54</a></div></div>
<div class="ttc" id="class_ring_buffer_html_acd1d97b58d6995aa2dea13cc4956540f"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#acd1d97b58d6995aa2dea13cc4956540f">RingBuffer::previous_read</a></div><div class="ttdeci">int previous_read</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00056">ringbuffer.h:56</a></div></div>
<div class="ttc" id="class_ring_buffer_html_ad45cbece64a0440644af481c3c3b4da6"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#ad45cbece64a0440644af481c3c3b4da6">RingBuffer::current_read</a></div><div class="ttdeci">int current_read</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00053">ringbuffer.h:53</a></div></div>
<div class="ttc" id="class_ring_buffer_html_a318af12367a399485385e4d5d2f89b00"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#a318af12367a399485385e4d5d2f89b00">RingBuffer::previous_write</a></div><div class="ttdeci">int previous_write</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00055">ringbuffer.h:55</a></div></div>
<div class="ttc" id="class_ring_buffer_html_a977517bcafd3510a263ccde57e4233ea"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#a977517bcafd3510a263ccde57e4233ea">RingBuffer::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00058">ringbuffer.h:58</a></div></div>
<div class="ttc" id="class_ring_buffer_html_ae6f4bae45e44b18390126d97bb661732"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#ae6f4bae45e44b18390126d97bb661732">RingBuffer::mutex</a></div><div class="ttdeci">QMutex mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00048">ringbuffer.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a57c380fbde38eee4b3ad9e1d25e3c7e9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::nextWrite </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allow_lapping</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>gets the index to the next write-bin </p>
<p>If <code>allow_lapping</code> is true then this function can overtake the read-pointer. This means that we are overwriting old frames which have not been read yet. if <code>allow_lapping</code> is false then we will not overatake a read-pointer. Instead, we will stay at our current location and thus return the same index as on the previous call. this means that our caller can overwrite the most recently written frame with the actually most recent frame.</p>
<p>nextWrite is thread-safe and atomic. </p>

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00128">128</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                                         {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#ae6f4bae45e44b18390126d97bb661732">mutex</a>.lock();</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#a318af12367a399485385e4d5d2f89b00">previous_write</a>=<a class="code" href="../../d4/d8f/class_ring_buffer.html#ab155cd2ee69736e50b77e7251bf6f611">current_write</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#ab155cd2ee69736e50b77e7251bf6f611">current_write</a>=<a class="code" href="../../d4/d8f/class_ring_buffer.html#a1ebc649491743610ecd10c0924efdfe3">next</a> ( <a class="code" href="../../d4/d8f/class_ring_buffer.html#ab155cd2ee69736e50b77e7251bf6f611">current_write</a>,<a class="code" href="../../d4/d8f/class_ring_buffer.html#ad45cbece64a0440644af481c3c3b4da6">current_read</a>, allow_lapping );</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="keywordtype">int</span> res=<a class="code" href="../../d4/d8f/class_ring_buffer.html#ab155cd2ee69736e50b77e7251bf6f611">current_write</a>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#ae6f4bae45e44b18390126d97bb661732">mutex</a>.unlock();</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div><div class="ttc" id="class_ring_buffer_html_a1ebc649491743610ecd10c0924efdfe3"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#a1ebc649491743610ecd10c0924efdfe3">RingBuffer::next</a></div><div class="ttdeci">int next(int cur_idx, int not_avail, bool preventLap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00079">ringbuffer.h:79</a></div></div>
<div class="ttc" id="class_ring_buffer_html_ab155cd2ee69736e50b77e7251bf6f611"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#ab155cd2ee69736e50b77e7251bf6f611">RingBuffer::current_write</a></div><div class="ttdeci">int current_write</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00054">ringbuffer.h:54</a></div></div>
<div class="ttc" id="class_ring_buffer_html_ad45cbece64a0440644af481c3c3b4da6"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#ad45cbece64a0440644af481c3c3b4da6">RingBuffer::current_read</a></div><div class="ttdeci">int current_read</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00053">ringbuffer.h:53</a></div></div>
<div class="ttc" id="class_ring_buffer_html_a318af12367a399485385e4d5d2f89b00"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#a318af12367a399485385e4d5d2f89b00">RingBuffer::previous_write</a></div><div class="ttdeci">int previous_write</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00055">ringbuffer.h:55</a></div></div>
<div class="ttc" id="class_ring_buffer_html_ae6f4bae45e44b18390126d97bb661732"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#ae6f4bae45e44b18390126d97bb661732">RingBuffer::mutex</a></div><div class="ttdeci">QMutex mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00048">ringbuffer.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1ad69ede57488814f84c85b694b52b4c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::unlockRead </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>unlocks the readlock mutex This function is only required for scenarios where you expect to have multiple readers*, all accessing the same ringbuffer. </p>

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00209">209</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                      {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <a class="code" href="../../d4/d8f/class_ring_buffer.html#a717cc0e30e319b09b9370f9628ae3f87">readlock</a>.unlock();</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div><div class="ttc" id="class_ring_buffer_html_a717cc0e30e319b09b9370f9628ae3f87"><div class="ttname"><a href="../../d4/d8f/class_ring_buffer.html#a717cc0e30e319b09b9370f9628ae3f87">RingBuffer::readlock</a></div><div class="ttdeci">QMutex readlock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/ringbuffer_8h_source.html#l00049">ringbuffer.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="ad45cbece64a0440644af481c3c3b4da6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::current_read</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00053">53</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>

<p>Referenced by <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00187">RingBuffer&lt; FrameData &gt;::curRead()</a>, and <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00153">RingBuffer&lt; FrameData &gt;::nextRead()</a>.</p>

</div>
</div>
<a class="anchor" id="ab155cd2ee69736e50b77e7251bf6f611"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::current_write</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00054">54</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>

<p>Referenced by <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00176">RingBuffer&lt; FrameData &gt;::curWrite()</a>, and <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00128">RingBuffer&lt; FrameData &gt;::nextWrite()</a>.</p>

</div>
</div>
<a class="anchor" id="a700776025db5484b365ce5d9f21bff9c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">ITEM* <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::items</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00051">51</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>

<p>Referenced by <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00075">RingBuffer&lt; FrameData &gt;::~RingBuffer()</a>.</p>

</div>
</div>
<a class="anchor" id="ae6f4bae45e44b18390126d97bb661732"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QMutex <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00048">48</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>

</div>
</div>
<a class="anchor" id="acd1d97b58d6995aa2dea13cc4956540f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::previous_read</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00056">56</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>

</div>
</div>
<a class="anchor" id="a318af12367a399485385e4d5d2f89b00"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::previous_write</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00055">55</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>

</div>
</div>
<a class="anchor" id="a717cc0e30e319b09b9370f9628ae3f87"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QMutex <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::readlock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00049">49</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>

</div>
</div>
<a class="anchor" id="a977517bcafd3510a263ccde57e4233ea"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITEM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d8f/class_ring_buffer.html">RingBuffer</a>&lt; ITEM &gt;::size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/da4/ringbuffer_8h_source.html#l00058">58</a> of file <a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>ssl-vision/src/shared/util/<a class="el" href="../../d6/da4/ringbuffer_8h_source.html">ringbuffer.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jan 13 2018 04:12:37 for Documentation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
